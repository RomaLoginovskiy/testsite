(self.webpackChunkmobile_bg_web_channel=self.webpackChunkmobile_bg_web_channel||[]).push([[5066],{88276:function(e,t,n){"use strict";n.d(t,{R0:function(){return Ze},LA:function(){return Qe},h7:function(){return fe.Z},rc:function(){return nt},u:function(){return ge.u}});n(27476),n(95767),n(98837),n(94882),n(98351);var r=n(344),o=n(18482),a=n(76181),i=(n(62773),n(87401)),c=n(94184),l=n.n(c),s=n(40036),u=n(20854),d=n(61014),m=n(23740),f=n(20007),g=n(8201),p=n(60948),v=n(42174),h=n(71826),b=n(73669),k=n(95813),E=n(96512),w=n(38236),y=n(4942),_=["amount","pageSn","clickTrackingInfo","imprTrackingInfo","defaultSpecId"],S=["tracking"];function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=function(e){var t=e.amount,n=e.pageSn,r=void 0===n?"":n,o=e.clickTrackingInfo,c=void 0===o?{}:o,l=e.imprTrackingInfo,s=void 0===l?{}:l,u=e.defaultSpecId,d=(0,k.Z)(e,_),m=(0,i.useState)(t||0),f=(0,a.Z)(m,2),g=f[0],p=f[1];(0,i.useEffect)((function(){p(t)}),[t]);var v=(0,i.useCallback)((function(e){var t,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=o.tracking,i=void 0===a?{}:a,l=(0,k.Z)(o,S);null==e||null===(t=e.preventDefault)||void 0===t||t.call(e),null==e||null===(n=e.stopPropagation)||void 0===n||n.call(e),(0,E.xv)(),w.default.show(x(x(x({isAutoShowToast:!0,addCart:!0,pageSn:r,defaultSpecId:u,clickEventData:x(x({},c),i),imprEventData:x(x({},s),i)},d),l),{},{callback:function(e){var t=e.addCartRes,n=e.error;if(n)return(0,y.zH)(n);((null==t?void 0:t.result)||{}).success&&p((function(t){return t+e.goodsNumber}))}}))}),[r,d,c,s,u]);return{cartNum:g,addCart:v}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(e||{}).reductionText,r=function(n){return(null==t?void 0:t[n])||e[n]},o=r("priceStr"),a=r("priceText"),i=r("marketPriceText"),c=r("saveText"),l=r("priceColor"),s=a&&a.length>1?a[1]:o,u=a&&a.length>0?a[0]:"",d=a&&a.length>2?a[2]:"",m=i&&i.length?i.join(""):"",f=(null==c?void 0:c.join(""))||"";return{showPriceStr:s,unitPrefix:u,unitSurfix:d,marketPriceStr:m,reductionText:n,currency:r("currency"),savePriceStr:f,priceColor:l}},P=function(e){return["CAD"].includes(e)},T=function(e,t){var n=[];return e&&e.length>0&&e.forEach((function(e){0===(null==e?void 0:e.offsetTop)&&(null==e?void 0:e.innerText)&&n.push(null==e?void 0:e.innerText)})),t&&t.length>0&&t.forEach((function(e){(null==t?void 0:t.text)&&n.push(null==e?void 0:e.text)})),n.length>0?n.join(","):""},N=n(32301),j=n(97169),Z=function(e){var t=e.cartAmount,n=e.pageElSn,r=e.imprTrackingInfo,o=e.className,a=e.onMouseEnter,c=e.onMouseLeave,l=e.addCart;return i.createElement(p.Z,{page_el_sn:n,others:r,useClick:!1,stopPropagation:!0},i.createElement(j.Z,{className:o,onMouseEnter:a,onMouseLeave:c,addCart:l,cartAmount:t}))},L=(0,i.memo)(Z),D=n(25118),A=n(37883),U=n.n(A),R=n(45984);n(66337);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M={threshold:1,rootMargin:"0px"},F=function(e){var t=e.ref,n=e.onEnter,r=e.onLeave,o=e.options,a=void 0===o?M:o,c=(0,i.useRef)(null),l=function(e){var t=(0,i.useRef)(e);t.current=e;var n=(0,i.useCallback)((function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return n}((function(){t.current&&c.current&&c.current.unobserve(t.current)}));return(0,i.useEffect)((function(){if(t.current&&(n||r)){var e=W(W(W({},M),a),{},{root:a.root?a.root.current:null}),o=e.threshold;return c.current=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&e.intersectionRatio>=o?n&&n(e):r&&r(e)}))}),e),c.current.observe(t.current),function(){l()}}}),[]),{unobserve:l}},z=n(17986),B=n(51767),G=n(15783),q=n(64527),J=n(50080),V=n(24558);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y={loading:!1,goodsList:[]},X=(n(96253),n(40851),n(19371),n(39115),n(56997),n(91181),n(19519)),$=n.n(X),ee=function(e){return e.running="running",e.pause="pause",e}({}),te=function(e){var t=e.images,n=e.HWRatio,r=e.activatedIndex,a=e.loopCb,c=e.show,s=e.status,d=t.length,m=(0,i.useRef)({isFirst:!0});(0,i.useEffect)((function(){var e=m;if(a)return c&&s!==ee.pause?(m.current.outTimer=setTimeout((function(){m.current.isFirst=!1,a(),m.current.timer=setInterval((function(){a()}),2800)}),1e3),function(){e.current.timer&&clearInterval(e.current.timer),e.current.outTimer&&clearInterval(e.current.outTimer)}):(m.current.timer&&clearInterval(m.current.timer),void(m.current.outTimer&&clearTimeout(m.current.outTimer)))}),[c,s,a]);var f=m.current.isFirst;return i.createElement("div",{className:l()($().container,(0,o.Z)({},$().show,c))},i.createElement("div",{className:$().inner},t.map((function(e,t){var a;return i.createElement("div",{className:l()($().item,(a={},(0,o.Z)(a,$().activated,!f&&r===t),(0,o.Z)(a,$().preActivated,!f&&(r-1+d)%d===t),(0,o.Z)(a,$().isFirst,f&&r===t),a)),key:t},i.createElement(z.Z,{src:(0,u.Hm)(e),className:l()(n>1?$().goodsImgWithFullHeight:$().goodsImg,"goods-img-external"),lazy:!1,resizeWidth:500}))}))))},ne=n(77750),re=n.n(ne);function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ie=function(e){var t=e.className,n=e.goodsImageURL,c=e.hoverImage,s=e.imageAlt,m=e.bottomChildren,f=e.lazy,g=void 0===f||f,p=e.HWRatio,v=void 0===p?1:p,h=e.video,b=e.topRightChildren,k=e.watermark,E=e.isSkcLoading,w=e.customChildren,y=e.banners,_=e.autoPlay,S=e.goodsId,O=(e.style,e.goodsImgProps),x=h||{},C=x.videoUrl,I=void 0===C?"":C,P=x.iconUrl,T=void 0===P?"":P,N=x.imageUrl,j=void 0===N?"":N,Z=(0,G.n)(),L={alt:s},A=(0,i.useRef)(null),H=(0,i.useRef)(null),W=(0,i.useRef)({}),M=(0,i.useRef)(),q=(0,i.useState)(!1),J=(0,a.Z)(q,2),V=J[0],Q=J[1],K=(0,i.useState)(!1),Y=(0,a.Z)(K,2),X=Y[0],$=Y[1],ne=(0,i.useState)({activatedIndex:0,show:!1,status:ee.running}),oe=(0,a.Z)(ne,2),ie=oe[0],ce=oe[1],le=(0,i.useCallback)((function(){I&&(Q(!0),W.current.timer=setTimeout((function(){$(!0),A&&A.current&&(W.current.autoPlay||(A.current.currentTime=0),M.current=A.current.play())}),500))}),[I]),se=(0,i.useCallback)((0,D.Z)(U().mark((function e(){return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I&&A.current){e.next=2;break}return e.abrupt("return");case 2:return clearTimeout(W.current.timer),e.next=5,M.current;case 5:A.current.pause();case 6:case"end":return e.stop()}}),e)}))),[I]),ue=(0,i.useCallback)((0,D.Z)(U().mark((function e(){return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I&&A.current){e.next=2;break}return e.abrupt("return");case 2:if(!W.current.autoPlay){e.next=4;break}return e.abrupt("return");case 4:return $(!1),clearTimeout(W.current.timer),e.next=8,M.current;case 8:A.current.pause();case 9:case"end":return e.stop()}}),e)}))),[I]),de=(0,B.lr)(),me=de.registerTask,fe=de.runTask,ge=de.pauseTask,pe=de.destroyTask,ve=c&&!I,he=function(e){var t=e.imageURLs,n=e.resizeWidth,r=e.webpEnable,o=e.quality,c=void 0===o?70:o,l=(0,i.useState)({loading:!1,loadedImages:[],complete:!1}),s=(0,a.Z)(l,2),u=s[0],m=s[1],f=function(e){return e?new Promise((function(t,o){var a=new Image;a.src=(0,d.FT)(e,{resizeWidth:n,webpEnable:r,quality:c}),a.onload=function(){t({url:e,success:!0})},a.onerror=function(t){o({url:e,success:!1,error:t})}})):null},g=function(){var e=(0,D.Z)(U().mark((function e(){var n,r,o;return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&0!==t.length){e.next=2;break}return e.abrupt("return");case 2:if(!u.complete){e.next=4;break}return e.abrupt("return");case 4:return m({loading:!0,loadedImages:[]}),n=t.map((function(e){var t;return null===(t=f(e))||void 0===t?void 0:t.catch((function(){return null}))})),e.next=8,Promise.all(n);case 8:r=e.sent,o=r.filter((function(e){return e&&e.success&&e.url})).map((function(e){return null==e?void 0:e.url})),m({loading:!1,loadedImages:o,complete:!0});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{loading:u.loading,images:u.loadedImages,preloadImages:g}}({webpEnable:Z,resizeWidth:500,quality:70,imageURLs:y}),be=he.images,ke=he.preloadImages,Ee=be&&be.length||0,we=(0,i.useMemo)((function(){if(j&&I)return(0,d.FT)(j,{webpEnable:Z,resizeWidth:500,quality:70})}),[Z,I,j]),ye=(0,i.useCallback)((function(){_&&(I?le():ce(ae(ae({},ie),{},{show:!0,status:ee.running})))}),[_,le,I,ie]),_e=(0,i.useCallback)((function(){if(_)return I?(W.current.autoPlay=!0,void se()):void ce((function(e){return ae(ae({},e),{},{status:ee.pause})}))}),[_,I,se]),Se=(0,i.useCallback)((function(){_&&(I?ue():ce((function(e){return ae(ae({},e),{},{show:!1})})))}),[_,ue,I]);(0,i.useEffect)((function(){var e=W;return function(){clearTimeout(e.current.timer)}}),[]),(0,i.useEffect)((function(){if(_)return me(S,{runTask:ye,pauseTask:_e,stopTask:Se}),function(){pe(S)}}),[_,pe,I,be,fe,S,ye,Se,_e,me]),F({ref:H,onEnter:_&&!I&&y&&y.length>0?ke:void 0,onLeave:void 0,options:{rootMargin:"800px"}}),F({ref:H,onEnter:_?function(){return fe(S)}:void 0,onLeave:_?function(){return ge(S)}:void 0});var Oe=(0,i.useCallback)((function(){ce((function(e){return ae(ae({},e),{},{activatedIndex:Ee?(e.activatedIndex+1)%Ee:0})}))}),[Ee]);return i.createElement(R.Z,{HWRatio:v},i.createElement("div",{className:l()(re().goodsImgContainer,t,(0,o.Z)({},re().multiImgFadeAniEnable,ve)),onMouseEnter:le,onMouseLeave:ue,ref:H,tabIndex:0,role:"link"},n?i.createElement(z.Z,(0,r.Z)({src:(0,u.Hm)(n),className:l()(v>1?re().goodsImgWithFullHeight:re().goodsImg,"goods-img-external",(0,o.Z)({},re().showBanner,ie.show&&Ee)),lazy:g,resizeWidth:500},O,L)):i.createElement("div",{className:re().noImgContainer}),ve?i.createElement(z.Z,(0,r.Z)({src:(0,u.Hm)(c),className:l()(v>1?re().goodsImgWithFullHeight:re().goodsImg,re().secFadeAni,"goods-img-external",(0,o.Z)({},re().showBanner,ie.show&&Ee)),lazy:g,resizeWidth:500},L)):null,be&&be.length>0?i.createElement(te,{images:be,HWRatio:v||1,activatedIndex:ie.activatedIndex,show:ie.show,status:ie.status,loopCb:Oe}):null,I&&V?i.createElement("video",{src:(0,u.Hm)(I),poster:(0,u.Hm)(we),ref:A,muted:!0,loop:!0,className:l()(re().video,(0,o.Z)({},re().videoPlay,X||W.current.autoPlay))}):null,k?i.createElement(z.Z,{resizeWidth:136,src:(0,u.Hm)(k),className:re().watermark,lazy:g}):null,b,w),m?i.createElement("div",{className:re().bottom},I&&!X?i.createElement("div",{className:re().videoLogo},i.createElement(z.Z,{lazy:g,src:T,className:re().videoLogoImage})):null,m):null,!!E&&i.createElement("div",{className:re().masker},i.createElement("div",{className:re().loadingBall},i.createElement("span",null),i.createElement("span",null),i.createElement("span",null))))},ce=(0,i.memo)(ie),le=(n(48977),n(49987)),se=n(97673),ue=n(1975),de=n.n(ue),me=function(e){var t=e.wrapClass,n=e.ratio,r=e.salesPercentStr,a=e.fill,c=void 0===a?"#fb7707":a,s=e.withCart,u={width:"".concat(n,"%")};return i.createElement("div",{className:l()(de().wrap,t)},i.createElement("div",{className:l()(de().processWrap,(0,o.Z)({},de().withCart,s))},i.createElement("div",{className:de().process,style:u})),i.createElement("div",{className:de().textLine},n>=65&&i.createElement(le.i0,{path:se.oG,style:{fill:c},className:de().fireIcon}),!!r&&i.createElement("div",{className:de().txt},r)))};n(12674),n(123),n(30377),n(23493),n(21599);n(10812),n(32205);var fe=n(7440),ge=n(77969),pe=n(48028),ve=n(36859),he=n(21692),be=n(7206),ke=n(40647),Ee=n(39363),we=n(40877),ye=n(57043),_e=n(40320),Se=n(90645),Oe=n(72586),xe=n(50242),Ce=n(74072),Ie=n(13763),Pe=n.n(Ie);function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var je=["CAD","USD","AUD","NZD"],Ze=(0,s.Pi)((function(e){var t,n,c=e.index,s=e.pageElSn,k=e.trackingInfo,E=e.processPageElSn,w=e.processTrackingInfo,y=e.cartScene,_=e.goodsInfo,S=e.seoLinkUrl,O=e.canAddToCart,x=void 0===O||O,T=e.hideTitle,j=void 0!==T&&T,Z=e.className,D=void 0===Z?"":Z,A=e.cartAmount,U=void 0===A?0:A,R=e.lazy,H=void 0!==R&&R,W=e.noHover,M=void 0!==W&&W,F=e.hoverTheme,z=void 0===F?N.PZ.DEFAULT:F,B=e.isOpenSaleInfoScale,G=e.grayConfig,q=e.userAgent,J=e.pageSn,V=e.goodsImgProps,Q=_.title,K=_.goodsName,Y=_.hdThumbUrl,X=_.thumbUrl,$=_.salesTipUnderPrice,ee=_.priceInfo,te=_.linkUrl,ne=_.seoLinkUrl,re=_.pageAlt,oe=_.image,ae=_.goodsId,ie=_.pRec,le=_.pSearch,se=_.salesTip,ue=_.ext,de=void 0===ue?{}:ue,fe=_.salesTipText,ve=_.specIds,ke=_.comment,we=_.commentNumTips,_e=_.goodsScore,Se=_.quickLook,Oe=_.tagsInfo,Ce=(void 0===Oe?{}:Oe).promotionTags,Ie=_.cardTrackingInfo,Te=_.atmosphere,Ze=Q||K||"",Le=de.goodsActivitySalesRatioParam,De=de.activitySalesRatioContent,Ae=!!Le&&Le>=0&&Le<=100,Ue=je.includes(null==ee?void 0:ee.currency)&&1===(null==G||null===(t=G.cp9487)||void 0===t?void 0:t.goodsPriceType),Re=(0,i.useMemo)((function(){var e=(null==oe?void 0:oe.url)||Y||X;return{showGoodsImg:e,showLinkUrl:ne||(0,u.ru)({thumb_url:e?(0,d.FT)(e,h.fW):null},te)}}),[X,te,Y,ne,null==oe?void 0:oe.url]),He=Re.showGoodsImg,We=Re.showLinkUrl,Me=I(ee),Fe=Me.showPriceStr,ze=Me.unitPrefix,Be=Me.unitSurfix,Ge=Me.marketPriceStr,qe=Me.reductionText,Je=Me.currency,Ve=Me.priceColor,Qe=(0,i.useState)(!1),Ke=(0,a.Z)(Qe,2),Ye=Ke[0],Xe=Ke[1],$e=Ce&&Ce.length>0,et=(0,i.useMemo)((function(){return Ne(Ne({goods_id:ae,idx:c,p_rec:ie,p_search:le,show_currency:Je,show_price:null==ee?void 0:ee.price,show_sales:fe&&fe.length>0?fe[0]:"",goods_btn_idx:c},Ie),k)}),[ae,c,ie,le,ee,Ie,fe,k,Je]),tt=C({amount:(null==_?void 0:_.cartAmount)||U||0,pageSn:J,params:{goods_id:ae,_oak_spec_ids:ve},cartScene:y,clickTrackingInfo:et,imprTrackingInfo:et}),nt=tt.cartNum,rt=tt.addCart,ot=(0,i.useContext)(f.jX).width,at=!!q&&(0,m.Y7)(q);return i.createElement(p.Z,{page_el_sn:s,others:et,actionName:"beforeOnClick"},i.createElement(N.ZP,{forwardConfig:{openTarget:"_blank"},forwardParams:{refer_page_el_sn:s},linkURL:We,seoLinkUrl:(0,b.av)(S||ne),className:l()(Pe().container,D,{"recgl-sbd":ot===g.r.Double,"recgl-sbs":ot===g.r.Single,"recgl-no":ot===g.r.None}),goodsId:ae,title:Ze,pageElSn:s,index:c,noHover:M||Ye,hoverTheme:z},i.createElement(ge.IH,{id:"FlashL-GoodsImage-".concat(ae,"-").concat(c),className:Pe().item,title:Ze,fixed:!0},i.createElement(ce,{watermark:$e?null:null==oe?void 0:oe.watermark,goodsImageURL:He,imageAlt:re||Ze,lazy:H,goodsId:ae,goodsImgProps:V,bottomChildren:i.createElement(i.Fragment,null,x&&null!=Se&&Se.open&&null!=Se&&null!==(n=Se.text)&&void 0!==n&&n.text&&!at?i.createElement(ge.IH,{id:"GoodsQuickLook-".concat(ae),title:Ze?"".concat(Se.text.text," - ").concat(Ze):"",className:Pe().quickLook},i.createElement(xe.Z,(0,r.Z)({lazy:H},Se,{addCart:rt,trackingInfo:{goods_id:ae,idx:c,p_rec:ie,p_search:le}}))):null,$e&&!at?i.createElement(v.Z,{enable:!0},i.createElement(ye.Z,Ce[0])):null)})),!j&&i.createElement(ge.IH,{id:"FlashL-GoodsName-".concat(ae,"-").concat(c),title:Ze,fixed:!0,expandLeft:9,expandRight:9,expandTop:13.5,className:Pe().item},i.createElement(Ee.Z,{name:Ze,className:Pe().goodsName})),i.createElement("div",{className:l()(Pe().sale,Pe().item,(0,o.Z)({},Pe().saleWithCart,x))},i.createElement(be.Z,{price:Fe,priceColor:Ve,pricePrefix:ze,priceSuffix:Be,marketPrice:Ge,discount:qe?qe.join(""):null,sales:se,salesArray:fe,enableScale:!!B&&P(Je),atmosphere:Te,showNewSalePrice:Ue,isCrawler:at}),x?i.createElement("div",{className:Pe().cart},i.createElement(L,{pageElSn:200061,cartAmount:nt,onMouseEnter:function(){return Xe(!0)},onMouseLeave:function(){return Xe(!1)},imprTrackingInfo:{cart_scene:y,cart_type:1,goods_id:ae,p_rec:ie,p_search:le},addCart:rt})):null),Ae?i.createElement(p.Z,{page_el_sn:E,others:w,useClick:!1},i.createElement(me,{ratio:Le,salesPercentStr:De,wrapClass:Pe().item,withCart:x})):null,i.createElement(he.Z,{score:(null==ke?void 0:ke.goodsScore)||_e,numTips:(null==ke?void 0:ke.commentNumTips)||we,className:Pe().item}),i.createElement(pe.Z,{text:$,className:Pe().item})))})),Le=n(73634),De=n(84454),Ae=n(27339),Ue=n(14290),Re=n(13265),He=n(94515),We=n(57024),Me=n(16671),Fe=n(22983),ze=n(13906),Be=function(e){return e[e.Default=0]="Default",e[e.Simple=1]="Simple",e}({}),Ge=n(8978),qe=n.n(Ge);function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qe=(0,s.Pi)((function(e){var t,n,c,s,u,d,p,h=e.index,k=e.pageSn,E=e.searchKey,w=e.pageElSn,y=e.cartScene,_=e.goodsInfo,S=e.canAddToCart,O=void 0===S||S,x=e.className,P=void 0===x?"":x,j=e.cartAmount,Z=void 0===j?0:j,A=e.imageLazy,R=void 0!==A&&A,H=e.seoLinkUrl,W=e.skuParams,M=void 0===W?{}:W,F=e.onClick,z=e.goodsType,B=void 0===z?Be.Default:z,G=e.isShowSkc,Q=void 0!==G&&G,X=e.hoverTheme,$=void 0===X?N.PZ.DEFAULT:X,ee=e.isShowSimilar,te=void 0!==ee&&ee,ne=e.isBackAutoShowSimilar,re=void 0!==ne&&ne,oe=e.autoShowSimilarCount,ae=void 0===oe?0:oe,ie=e.customAbConfig,le=void 0===ie?{}:ie,se=e.classConfig,ue=void 0===se?{}:se,de=e.trackingInfo,me=void 0===de?{}:de,fe=e.skcTrackingInfo,pe=void 0===fe?{}:fe,Ie=e.isOpenSaleInfoScale,Pe=e.goodsNameTag,Te=e.showExpandCommentAni,Ne=e.showMarketingInfo,je=e.isBackAutoShowCategoryCard,Ze=void 0!==je&&je,Ge=e.autoShowCategoryCardCount,Je=void 0!==Ge&&Ge,Qe=_.title,Ke=_.goodsName,Ye=_.thumbUrl,Xe=_.hdThumbUrl,$e=_.salesTip,et=_.salesTipText,tt=void 0===et?[]:et,nt=_.priceInfo,rt=_.linkUrl,ot=_.seoLinkUrl,at=_.pageAlt,it=_.image,ct=_.goodsId,lt=_.pRec,st=_.pSearch,ut=_.goodsTags,dt=_.specialTags,mt=_.specIds,ft=_.HWRatio,gt=void 0===ft?1:ft,pt=_.comment,vt=_.commentNumTips,ht=_.goodsScore,bt=_.video,kt=_.tagsInfo,Et=void 0===kt?{}:kt,wt=Et.brandTags,yt=Et.promotionTags,_t=Et.promotionBusinessTags,St=Et.billboardTags,Ot=Et.goodsTags,xt=_.quickLook,Ct=_.skcList,It=void 0===Ct?[]:Ct,Pt=_.extendFields,Tt=void 0===Pt?{}:Pt,Nt=Tt.showSimilarItemsOnSkuClose,jt=void 0!==Nt&&Nt,Zt=Tt.gdReturnShowOpt,Lt=void 0!==Zt&&Zt,Dt=_.autoPlay,At=_.gallery,Ut=_.cardTrackingInfo,Rt=void 0===Ut?{}:Ut,Ht=_.hoverImage,Wt=_.noSalesTipText,Mt=_.userAgent,Ft=(0,i.useRef)(null),zt=(0,He.$)("global",{ns:"global"}),Bt=zt.t,Gt=zt.i18n,qt=Ve(Ve({},(0,Fe.oR)().abConfig),le),Jt=!!Mt&&(0,m.Y7)(Mt),Vt=te&&jt,Qt=re&&Vt&&1===(null==qt||null===(t=qt.cp3503)||void 0===t?void 0:t.showSimilarGoodsNewScene),Kt=(0,i.useState)(!1),Yt=(0,a.Z)(Kt,2),Xt=Yt[0],$t=Yt[1],en=(0,i.useCallback)((function(){$t(!1)}),[]);(0,i.useEffect)((function(){$t(Ze&&Lt&&Je>0)}),[Ze,Lt,Je]);var tn=Qe||Ke||"",nn=O&&B!==Be.Simple,rn=Q?It.filter((function(e){return e.colorImage})):[],on=rn.length>0,an=(0,i.useState)(!1),cn=(0,a.Z)(an,2),ln=cn[0],sn=cn[1],un=(0,i.useCallback)((function(){sn(!0)}),[]),dn=(0,i.useCallback)((function(){sn(!1)}),[]),mn=(0,i.useState)(0),fn=(0,a.Z)(mn,2),gn=fn[0],pn=fn[1],vn=(0,i.useState)(!1),hn=(0,a.Z)(vn,2),bn=hn[0],kn=hn[1],En=function(e){var t=e.pageSn,n=e.goodsId,r=e.pageSize,o=void 0===r?10:r,c=e.scene,l=void 0===c?"sku_close_similar":c,s=e.pageElSn,u=void 0===s?205632:s,d=e.autoShow,m=void 0!==d&&d,f=e.autoShowCount,g=void 0===f?0:f,p=e.afterClearCallback,v=void 0===p?function(){}:p,h=(0,i.useState)(Y),b=(0,a.Z)(h,2),k=b[0],E=b[1],w=(0,i.useRef)(0),y=(0,i.useCallback)((function(e){var t;w.current=(null==e||null===(t=e.goodsList)||void 0===t?void 0:t.length)||0,E(e)}),[]),_=(0,i.useCallback)((0,D.Z)(U().mark((function e(){var r,a,i,c;return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(w.current>0)){e.next=2;break}return e.abrupt("return");case 2:return y({loading:!0,goodsList:[]}),e.next=5,s={pageSn:t,mainGoodsIds:[n],listId:(0,q.x)(6),offset:0,pageSize:o,scene:l,source:10067,pageElSn:u},(0,J.v_)({url:(0,V.m)("/api/poppy/v1/goods_detail",s),params:s,config:{useAntiToken:!0}}).catch((function(){return{}}));case 5:if((a=e.sent)&&a.success){e.next=9;break}return y({loading:!1,goodsList:[]}),e.abrupt("return");case 9:i=(null===(r=a.result)||void 0===r?void 0:r.data)||{},c=i.goodsList,w.current=c.length,y({loading:!1,goodsList:c});case 12:case"end":return e.stop()}var s}),e)}))),[n,t,o,u,l,y]),S=(0,i.useCallback)((function(){y(Y),null==v||v()}),[y,v]);return(0,i.useEffect)((function(){m&&g&&_()}),[m,g,_]),K(K({},k),{},{loadData:_,clear:S})}({goodsId:ct,pageSn:k,autoShow:Qt,autoShowCount:ae,afterClearCallback:en}),wn=En.goodsList&&En.goodsList.length>0,yn=function(){(0,Me.jm)("/bgp_similar_rec.html?goods_id=".concat(ct),{openTarget:"_blank"})},_n=(0,i.useMemo)((function(){return Ve(Ve(Ve({goods_id:ct,idx:h,p_rec:(0,ze.or)(lt),p_search:st,show_currency:null==nt?void 0:nt.currency,show_price:null==nt?void 0:nt.price,show_sales:tt&&tt.length>0?tt[0]:"",show_skc:on?1:0},E?{query:E}:{}),Rt),me)}),[ct,h,lt,E,st,nt,Rt,tt,me]),Sn=C({amount:(null==_?void 0:_.cartAmount)||Z||0,pageSn:k,params:Ve({goods_id:ct,_oak_spec_ids:mt},M),cartScene:y,clickTrackingInfo:_n,imprTrackingInfo:_n,defaultSpecId:null==rn||null===(n=rn[gn])||void 0===n?void 0:n.specId}),On=Sn.cartNum,xn=Sn.addCart,Cn=(0,i.useCallback)((function(e,t){if($t(!1),Vt)return En.clear(),void xn(e,Ve(Ve({},t),{},{userCloseCallback:function(){return En.loadData()}}));xn(e,t)}),[En,xn,Vt]),In=(0,i.useMemo)((function(){return(null==yt?void 0:yt.length)>0}),[yt]),Pn=(0,i.useMemo)((function(){var e=(null==rn?void 0:rn[gn])||{},t=I(nt,e),n=t.showPriceStr,r=t.unitPrefix,o=t.unitSurfix,a=t.marketPriceStr,i=t.reductionText,c=t.currency;return{reductionText:i,showPriceStr:n,priceColor:t.priceColor,unitPrefix:r,unitSurfix:o,marketPriceStr:a,saleInfoEnableScale:!!Ie&&(0,Le.Vq)(c,Gt.language)}}),[gn]),Tn=Pn.showPriceStr,Nn=Pn.unitPrefix,jn=Pn.unitSurfix,Zn=Pn.marketPriceStr,Ln=Pn.saleInfoEnableScale,Dn=Pn.reductionText,An=Pn.priceColor,Un=(0,i.useMemo)((function(){return(At||[]).map((function(e){return e.url}))}),[At]),Rn=(0,i.useMemo)((function(){var e=(null==rn?void 0:rn[gn])||{},t=e.galleryUrl,n=void 0===t?"":t,r=e.hoverImage;return{currentGoodsImage:n||(null==it?void 0:it.url)||Xe||Ye,currentHoverImage:(null==r?void 0:r.url)||(null==Ht?void 0:Ht.url)}}),[gn,Ht]),Hn=Rn.currentGoodsImage,Wn=Rn.currentHoverImage,Mn=(0,i.useCallback)((function(){var e,t=T(null===(e=Ft.current)||void 0===e?void 0:e.childNodes,wt),n=Ve(Ve({},_n),{},{page_el_sn:w,tag_list:t});(0,We.wI)(n)}),[Ft,w,_n,wt]),Fn=(0,i.useCallback)((function(){var e,t=T(null===(e=Ft.current)||void 0===e?void 0:e.childNodes,wt),n=Ve(Ve({},_n),{},{page_el_sn:w,tag_list:t});(0,We.ax)(n)}),[Ft,w,_n,wt]),zn=(!bt||!bt.videoUrl)&&O&&(null==xt?void 0:xt.open)&&(null==xt||null===(c=xt.text)||void 0===c?void 0:c.text),Bn=Te&&null!=pt&&pt.avatar&&null!=pt&&pt.comment?N.lS.expand:N.lS.default,Gn=(0,i.useContext)(f.jX).width;return i.createElement(Re.Z,{handleCustomTracking:Mn},i.createElement(N.ZP,{seoLinkUrl:(0,b.av)(H||ot),linkURL:ot||rt,className:l()(qe().container,P,{"recgl-sbd":Gn===g.r.Double,"recgl-sbs":Gn===g.r.Single,"recgl-no":Gn===g.r.None}),noHover:ln,title:tn,goodsId:ct,forwardConfig:{openTarget:"_blank"},forwardParams:{spec_id:null==rn||null===(s=rn[gn])||void 0===s?void 0:s.specId,refer_page_el_sn:w},linkOnClick:F,hoverTheme:null!=bt&&bt.videoUrl&&$===N.PZ.SCALE?N.PZ.NONE:$,beforeOnClick:Fn,type:Bn},i.createElement(ge.IH,{id:"GoodsImage-".concat(ct),title:tn,fixed:!0,expandLeft:9,expandRight:9,hidden:!!bt,className:l()(qe().item,"goods-img-container-external")},i.createElement(ce,{watermark:In?null:null==it?void 0:it.watermark,goodsImageURL:Hn,imageAlt:at||tn,lazy:R,HWRatio:gt,video:bt,goodsId:ct,isSkcLoading:bn,banners:Un&&Un.length>1?Un:null,autoPlay:Dt,hoverImage:Wn,customChildren:i.createElement(i.Fragment,null,_t&&_t.length>0?i.createElement(Se.Z,{data:_t}):null,St&&St.length>0?i.createElement(Se.Z,{data:St,center:!0,className:qe().billboardTags}):null,wn?i.createElement(ge.IH,{id:"GoodsSimilar-".concat(ct),title:tn,hidden:!0},i.createElement(De.Z,{goodsList:En.goodsList,onClose:En.clear,mainGoodsId:ct,onClickTitle:yn,onClickViewMoreBtn:yn,loggerParams:{main:205632,title:205652,viewMore:205633,goods:205634},isSmall:(0,Le.FX)(nt.currency)})):null,Xt&&!wn?i.createElement(Ae.Z,{pageSn:k,goodsId:ct,closeCategoryCard:en}):null),bottomChildren:i.createElement(i.Fragment,null,!!zn&&!Jt&&i.createElement(ge.IH,{id:"GoodsQuickLook-".concat(ct),title:"".concat((null==xt||null===(u=xt.text)||void 0===u?void 0:u.text)||""," - ").concat(tn),className:l()(qe().quickLook)},i.createElement(xe.Z,(0,r.Z)({lazy:R},xt,{addCart:Cn,trackingInfo:_n,skuParams:Ve({imprEventData:Ve({page_el_sn:206955},_n),customEventLog:{close:Ve({click:206956},_n),allDetail:Ve({click:206957},_n)}},M)}))),!In&&dt&&(null==dt?void 0:dt.length)>0?i.createElement(v.Z,{enable:!0},i.createElement(ge.IH,{id:"GoodsCoutdown-".concat(ct),title:tn},i.createElement(Ce.Z,dt[0]||{}))):null,In&&!Jt?i.createElement(v.Z,{enable:!0},i.createElement(ye.Z,yt[0])):null)})),i.createElement(ge.IH,{id:"GoodsName-".concat(ct),title:tn,fixed:!0,expandLeft:9,expandRight:9,className:qe().item},i.createElement(Ee.Z,{name:tn,discount:Dn?Dn.join(""):null,isBlackDiscount:!0,headerTag:Pe})),i.createElement("div",{className:l()(qe().sale,qe().item,(0,o.Z)({},qe().saleWithCart,nn))},i.createElement(be.Z,{price:Tn,pricePrefix:Nn,priceSuffix:jn,marketPrice:Zn,discount:Dn?Dn.join(""):null,sales:$e,salesArray:tt,noSalesTipText:Wt,classConfig:ue.sale,enableScale:Ln,showDiscount:!Ne,isCrawler:Jt,priceColor:An}),nn?i.createElement("div",{className:l()(qe().cart)},i.createElement(L,{pageElSn:200061,cartAmount:On,onMouseEnter:un,onMouseLeave:dn,imprTrackingInfo:Ve({cart_scene:y,cart_type:1},_n),addCart:Cn})):null),!(B===Be.Simple)&&i.createElement(i.Fragment,null,!!Ne&&i.createElement(Ue.Z,{prefix:Bt("regularPricePrefix"),discount:Dn?Dn.join(""):null,marketPrice:Zn,className:qe().item}),!!St&&St.length>0&&!Jt&&i.createElement(_e.Z,{data:St,className:qe().item}),!(null!=St&&St.length)&&!Jt&&i.createElement(ke.Z,{data:Ot||ut,className:qe().item,ref:Ft}),i.createElement(he.Z,{score:(null==pt?void 0:pt.goodsScore)||ht,numTips:(null==pt?void 0:pt.commentNumTips)||vt,className:qe().item}),wt&&wt.length>0?i.createElement(ve.Z,{brandTagLogo:null===(d=wt[0])||void 0===d?void 0:d.url,brandTagText:null===(p=wt[0])||void 0===p?void 0:p.text,className:qe().item}):null,rn&&rn.length>1?i.createElement("div",{onMouseEnter:un,onMouseLeave:dn,className:l()(qe().skcContainer,qe().item)},i.createElement(Oe.Z,{className:qe().item,setSkcIndex:pn,currentSkcIndex:gn,skcList:rn,commonTrackingInfo:_n,trackingGoodsInfo:Rt,setSkcLoading:kn,skcTrackingInfo:pe,cartMouseEnter:un,cartMouseLeave:dn,alt:at||tn})):null,i.createElement(N.NJ,null,i.createElement(we.Z,(0,r.Z)({},pt,{className:l()(qe().comment)}))))))})),Ke=n(54507),Ye=n.n(Ke),Xe=(0,i.memo)((function(e){var t=e.HWRatio,n=e.children,r=e.className;return i.createElement("div",{className:l()(Ye().adaptorWrapper,r),style:{paddingBottom:"".concat(100*t,"%")}},i.createElement("div",{className:Ye().childContainer},n))})),$e=n(58455),et=n.n($e),tt=function(e){var t=e.className,n=e.style;return i.createElement(N.Fh,{className:t,style:n},i.createElement("div",{className:et().goodsSkeletonWrapper},i.createElement(Xe,{HWRatio:1},i.createElement("div",{className:et().goodsSkeletonImgContainer},i.createElement("div",{className:l()(et().skeletonImgContainer,et().mask)}))),i.createElement("div",{className:l()(et().name,et().mask)}),i.createElement("div",{className:et().price},i.createElement("div",{className:l()(et().priceLeft,et().mask)}),i.createElement("div",{className:l()(et().priceRight,et().mask)}))))},nt=(0,i.memo)(tt);n(44223);var rt=n(17756),ot=n.n(rt);function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(0,s.Pi)((function(e){var t=e.index,n=e.pageElSn,r=e.goodsInfo,o=e.seoLinkUrl,a=e.className,c=void 0===a?"":a,s=e.lazy,u=void 0!==s&&s,d=e.noHover,m=void 0!==d&&d,f=e.hoverTheme,g=void 0===f?N.PZ.DEFAULT:f,v=e.showMarketingInfo,h=void 0===v||v,k=e.salePriceCls,E=e.trackingInfo,w=r.title,y=r.goodsName,_=r.hdThumbUrl,S=r.thumbUrl,O=r.priceInfo,x=r.linkUrl,C=r.seoLinkUrl,T=r.pageAlt,j=r.image,Z=r.goodsId,L=r.pRec,D=r.pSearch,A=r.salesTip,U=r.salesTipText,R=r.comment,H=r.commentNumTips,W=r.goodsScore,M=r.tagsInfo,F=(void 0===M?{}:M).promotionTags,z=r.cardTrackingInfo,B=w||y,G=(null==j?void 0:j.url)||_||S,q=I(O),J=q.showPriceStr,V=q.unitPrefix,Q=q.unitSurfix,K=q.marketPriceStr,Y=q.reductionText,X=q.savePriceStr,$=F&&F.length>0,ee=(0,i.useMemo)((function(){return it(it({goods_id:Z,idx:t,p_rec:L,p_search:D,show_price:null==O?void 0:O.price,show_sales:U&&U.length>0?U[0]:""},z),E)}),[Z,t,L,D,O,z,U,E]),te=(0,He.$)("global").t;return i.createElement(p.Z,{page_el_sn:n,others:ee,actionName:"beforeOnClick"},i.createElement(N.ZP,{forwardConfig:{openTarget:"_blank"},forwardParams:{refer_page_el_sn:n},linkURL:x,seoLinkUrl:(0,b.av)(o||C),className:l()(ot().container,c),goodsId:Z,title:B,noHover:m,hoverTheme:g},i.createElement(ge.IH,{id:"Markdown-GoodsImage-".concat(Z,"-").concat(t),title:B,fixed:!0,expandLeft:9,expandRight:9,className:ot().item},i.createElement(ce,{watermark:$?null:null==j?void 0:j.watermark,goodsImageURL:G,imageAlt:T||B,lazy:u,goodsId:Z,bottomChildren:i.createElement(i.Fragment,null,$?i.createElement(ye.Z,F[0]):null)})),i.createElement(be.Z,{className:l()(ot().item,ot().sale),classConfig:{price:k},price:J,pricePrefix:V,priceSuffix:Q,marketPrice:h?"":K,sales:A,salesArray:U,enableScale:P(O.currency)}),h?i.createElement(Ue.Z,{className:ot().item,prefix:X?void 0:te("regularPricePrefix"),discount:Y?Y.join(""):null,marketPrice:X||K}):null,i.createElement(he.Z,{className:ot().item,score:(null==R?void 0:R.goodsScore)||W,numTips:(null==R?void 0:R.commentNumTips)||H})))}))},32301:function(e,t,n){"use strict";n.d(t,{lS:function(){return y},NJ:function(){return O},PZ:function(){return _},Fh:function(){return I},ZP:function(){return T}});var r=n(344),o=n(18482),a=n(25118),i=n(76181),c=n(37883),l=n.n(c),s=n(87401),u=n(94184),d=n.n(u),m=n(20854),f=n(9522),g=n(84503),p=n(73669);n(51876),n(17732),n(96253),n(59357),n(66108),n(50110),n(95767),n(30522),n(39115),n(56997),n(91181);var v=n(37075),h=n.n(v),b=function(e){var t=e.id,n=e.title,r=e.fixed,o=e.hidden;return n?{"data-tooltip":t,"data-tooltip-title":n,"data-tooltip-fixed":r||!1,"data-tooltip-hidden":o||!1}:{}},k=function(e){var t=e.id,n=e.title,a=e.fixed,i=e.hidden,c=e.className,l=e.children,u=e.expandTop,m=e.expandRight,f=e.expandBottom,g=e.expandLeft;return s.createElement("div",(0,r.Z)({className:d()(h().tooltipItem,c,(0,o.Z)({},h().relative,!!(u||m||f||g)))},b({id:t,title:n,fixed:a,hidden:i})),l,u&&s.createElement("div",{className:h().top,style:{height:u,top:-u,left:0}}),m&&s.createElement("div",{className:h().right,style:{width:m,right:-m,top:0}}),f&&s.createElement("div",{className:h().bottom,style:{height:f,bottom:-f,left:0}}),g&&s.createElement("div",{className:h().left,style:{width:g,left:-g,top:0}}))},E=n(68359),w=n.n(E),y=function(e){return e.default="default",e.expand="expand",e}({}),_=function(e){return e.DEFAULT="DEFAULT",e.SCALE="SCALE",e.NONE="NONE",e}({}),S=function(){},O=function(e){var t=e.children;return s.createElement("div",{className:w().expandContent},t)},x=function(e){var t=e.linkURL,n=e.seoLinkUrl,c=e.linkOnClick,u=e.className,v=e.children,h=e.goodsId,k=e.title,E=e.pageElSn,y=e.index,_=e.beforeOnClick,O=e.noHover,x=void 0!==O&&O,C=e.forwardParams,I=void 0===C?{}:C,P=e.forwardConfig,T=void 0===P?{}:P,N=(0,s.useRef)(null),j=(0,s.useMemo)((function(){return(0,p.av)(t)}),[t]),Z=(0,s.useState)(),L=(0,i.Z)(Z,2),D=L[0],A=L[1],U=(0,s.useCallback)((0,a.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,m.ru)(I,j),_)try{_()}catch(e){}if(!c){e.next=5;break}return c(t),e.abrupt("return");case 5:(0,p.jm)(t,T);case 6:case"end":return e.stop()}}),e)}))),[j,c,I,T,_]),R=(0,s.useCallback)((function(){N.current&&A({height:"".concat(N.current.offsetHeight,"px")})}),[]);(0,s.useEffect)((function(){return R(),window.addEventListener("resize",R),function(){window.removeEventListener("resize",R)}}),[R]);var H=(0,f.F)({onClick:U,tabIndex:-1,role:"link"});return s.createElement("div",(0,r.Z)({className:d()(w().goodsContainer,"goods-container",u,(0,o.Z)({"goods-expand":!!D},w().noHover,x)),style:D,"aria-label":k},H),k&&n?s.createElement(g.rU,{seoUrl:n,url:j,onClick:S,className:w().seoLink,title:k,pageElSn:E,index:y},k):null,s.createElement("div",(0,r.Z)({className:d()(w().inner,"goods-container-inner-external"),ref:N},b({id:"goodContainer-".concat(h),title:k,fixed:!1,hidden:x})),v))},C=function(e){var t,n=e.linkURL,i=e.seoLinkUrl,c=e.linkOnClick,u=e.className,v=e.children,h=e.goodsId,b=e.title,E=e.beforeOnClick,y=e.hoverTheme,O=void 0===y?_.DEFAULT:y,x=e.noHover,C=void 0!==x&&x,I=e.pageElSn,P=e.index,T=e.forwardParams,N=void 0===T?{}:T,j=e.forwardConfig,Z=void 0===j?{}:j,L=(e.container,(0,s.useMemo)((function(){return(0,p.av)(n)}),[n])),D=(0,s.useCallback)((0,a.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,m.ru)(N,L),E)try{E()}catch(e){}if(!c){e.next=5;break}return c(t),e.abrupt("return");case 5:(0,p.jm)(t,Z);case 6:case"end":return e.stop()}}),e)}))),[L,c,N,Z,E]),A=(t={},(0,o.Z)(t,_.DEFAULT,w().hoverThemeDefault),(0,o.Z)(t,_.SCALE,w().hoverThemeScale),(0,o.Z)(t,_.NONE,w().noHover),t),U=(0,f.F)({onClick:D,tabIndex:-1,role:"link"});return s.createElement("div",(0,r.Z)({className:d()(w().goodsContainer,"goods-container",A[O],u,(0,o.Z)({},w().noHover,C)),"aria-label":b},U),b&&i?s.createElement(g.rU,{seoUrl:i,url:L,onClick:S,className:w().seoLink,title:b,pageElSn:I,index:P},b):null,s.createElement(k,{className:d()(w().inner,"goods-container-inner-external"),title:b,id:"goodContainer-".concat(h),hidden:C},v))},I=function(e){var t=e.children,n=e.className,r=e.style;return s.createElement("div",{className:d()(w().skeleton,n),style:r},t)},P=function(e){return(null==e?void 0:e.type)===y.expand?s.createElement(x,e):s.createElement(C,e)},T=(0,s.memo)(P)},51767:function(e,t,n){"use strict";n.d(t,{MX:function(){return a},Os:function(){return o},lr:function(){return i}});n(62850),n(62773),n(98837);var r=n(87401),o=function(){var e={},t=[],n=function(){var n;if(0!==t.length){var r=t[0];e[r]&&(null===(n=e[r])||void 0===n||n.runTask())}};return{registerTask:function(t,n){e[t]=n},destroyTask:function(t){delete e[t]},runTask:function(r){e[r]&&(t.includes(r)||(t.push(r),t[0]===r&&n()))},pauseTask:function(r){if(0!==t.length||t.includes(r)){var o=e[r];if(o&&o.pauseTask(),t[0]===r)return t.shift(),void n();t=t.filter((function(e){return e!==r}))}},stopTask:function(r){if(0!==t.length||t.includes(r)){var o=e[r];if(o&&(null==o||o.stopTask()),t[0]===r)return t.shift(),void n();t=t.filter((function(e){return e!==r}))}}}},a=(0,r.createContext)(o()),i=function(){return(0,r.useContext)(a)}},33628:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});n(95767),n(98837),n(94882),n(98351);var r=n(344),o=n(76181),a=n(18482),i=(n(19371),n(27476),n(87401)),c=n(8679),l=n.n(c),s=n(58287);n(96253),n(66108);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=function(e){var t=(0,i.memo)((function(t){var n=(0,i.useRef)({}),a=(0,i.useCallback)((function(e){var t=!1,r=n.current,o=e.map((function(e){var n,o=(null==e||null===(n=e.data)||void 0===n?void 0:n.goodsId)||(null==e?void 0:e.goodsId)||null;if(o){var a;if("number"!=typeof e.cartAmount)return t=!0,f(f({},e),{},{cartAmount:r[o]||(null==e||null===(a=e.data)||void 0===a?void 0:a.cartAmount)||0});var i=r[o]||0;if((null==e?void 0:e.cartAmount)!==i)return t=!0,f(f({},e),{},{cartAmount:i})}return e}));return t?o:e}),[]),c=(0,i.useState)(a(t.datasource||[])),l=(0,o.Z)(c,2),u=l[0],m=l[1];!function(e){var t=e.setDatasource,n=(0,i.useCallback)((function(e,t){var n=!1,r=e.map((function(e){var r=t(e);return r?(n=!0,r):e}));return n?r:e}),[]);(0,i.useEffect)((function(){var e=function(){if("visible"===document.visibilityState){var e="BGGoodsDetailStatusNotification",r=localStorage.getItem(e);if(r)try{var o=JSON.parse(r);if(!o.goods_id)return;t((function(e){return n(e,(function(e){var t,n=!1,r=(null==e||null===(t=e.data)||void 0===t?void 0:t.goodsId)||(null==e?void 0:e.goodsId)||null;return!(n||!r)&&(r.toString()===o.goods_id.toString()?(n=!0,d(d({},e),{},{autoShowCategoryCardCount:e.autoShowCategoryCardCount?e.autoShowCategoryCardCount+1:1})):d(d({},e),{},{autoShowCategoryCardCount:0}))}))}))}catch(e){}finally{localStorage.removeItem(e)}}};return window.addEventListener("visibilitychange",e),function(){window.removeEventListener("visibilitychange",e)}}),[])}({setDatasource:m}),(0,i.useEffect)((function(){var e=a(t.datasource||[]);m(e)}),[t.datasource]);var g=(0,i.useCallback)((function(e,t){var r=n.current;t===s.AG.TOTAL&&Object.keys(r).forEach((function(e){r[e]=0})),n.current=f(f({},r),e),m(a)}),[]);return(0,i.useEffect)((function(){var e=(0,s.p5)(g);return function(){e()}}),[]),i.createElement(e,(0,r.Z)({},t,{datasource:u}))})),n=e.displayName||e.name;return t.displayName="withCartAmount(".concat(n,")"),l()(t,e),t}},97673:function(e,t,n){"use strict";n.d(t,{OW:function(){return o},oG:function(){return r}});n(344),n(95813),n(48977),n(87401),n(94184),n(48474);var r="M432.1 0c149.7 87.7 250.7 246.3 254.3 428.1 30.2-30.1 52.4-68 63-110.3l0.8-3.2c88.8 68.6 145.8 174.8 145.8 293.9 0 6.8-0.2 13.6-0.6 20.4 0.4 6.8 0.6 13.6 0.6 20.5 0 206.9-171.9 374.6-384 374.6-212.1 0-384-167.7-384-374.6 0-103.1 42.7-196.4 111.7-264.2 91.9-104.6 158.1-231.2 189.3-370.5l3.1-14.7z",o="M347.4 8.1l376.3 0c14.9 0 26.9 12.1 27 26.9 0 3.7-0.8 7.4-2.3 10.8l-135 309.4 0 0 264.6 0c14.9 0 26.9 12.1 27 26.9 0 6.9-2.6 13.5-7.4 18.5l-572.1 607.7c-10.2 10.8-27.3 11.3-38.1 1.1-7.2-6.8-10.1-17-7.6-26.6l103.7-388.4 0 0-236.8 0c-14.9 0-26.9-12.1-26.9-27 0-3.2 0.6-6.5 1.7-9.5l200.7-532.4c4-10.5 14-17.4 25.2-17.4z"},24558:function(e,t,n){"use strict";n.d(t,{m:function(){return r}});var r=function(e,t){return e&&t&&t.scene?"".concat(e,"?scene=").concat(t.scene):e}},75370:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});n(96253);function r(e,t,n){var r=[];if(!e||"[object Array]"!==Object.prototype.toString.call(e))return r;if("function"!=typeof t||"function"!=typeof n)return r;for(var o=0;o<e.length;o++)t(e[o],o,e)&&r.push(n(e[o],o,e));return r}},54507:function(e){e.exports={adaptorWrapper:"_2EKTd4Mo",childContainer:"_1EJarBzg"}},44223:function(e){e.exports={container:"_2AFmi3S1",quickLook:"_3N40_tjf",imgContainer:"aEaj91Of",soldOutGoodsName:"_24b3WGJz",sale:"yDOebGDA",saleWithCart:"tJZv7Vh9",cart:"_30slbR60",item:"_3hegVqWb",skeleton:"_1IDMWBbN"}},13763:function(e){e.exports={container:"_3joAmBXj",quickLook:"ZhdncLQq",sale:"_25i85qo3",saleWithCart:"_1H6j557u",cart:"_3tagYgs3",item:"_1VagVpc8"}},8978:function(e){e.exports={container:"l95cHQxJ",quickLook:"vfsE-5rw",item:"_1O6JniQ8",sale:"_34omwww4",saleWithCart:"_1OK401Jm",cart:"_2eEg2hfa",tagImg:"_3pUDQkSk",tagText:"hJE5QZdU",center:"_2llVknaU",billboardTags:"_2Xw5EgS3",comment:"_1Owhvm7F"}},17756:function(e){e.exports={item:"_3z304oHq",sale:"_2NiJg8vm"}},58455:function(e){e.exports={goodsSkeletonWrapper:"_1wS5Syuc",ani:"hD5totmY",goodsSkeletonImgContainer:"_3_BZ8Q1p",mask:"_3qNb0U--",skeletonImgContainer:"s6FSJi1o",name:"_2_93L7V6",price:"_3I8xgig8",priceLeft:"_2326IwBh",priceRight:"_2zZp1V9Q"}},68359:function(e){e.exports={goodsContainer:"_2gR7cTnt",hoverThemeDefault:"F2-exj-b",noHover:"UqojxkMX",showBoxShadow:"_263qAI7x",hoverThemeScale:"k9339ArC",inner:"_20V883Hw",expandContent:"_32ey3-Ss",showExpandAni:"MGUi847Q",skeleton:"_2wKlS51m",seoLink:"wcaLN8wf",hideBoxShadow:"u4MynZDS",hideExpandAni:"_2ogpB8A_",GoodsImgZoom:"_2_sWatJf"}},19519:function(e){e.exports={container:"_3asOp_ou",show:"_2HGO9MoR",goodsImg:"DbBcQxhh",goodsImgWithFullHeight:"_3zP8mpNB",inner:"_5b7_fxQM",item:"_3ewULQFd",isFirst:"_2CaRG3uu",preActivated:"L9N1wSNd",fadeOut:"_2Sc5xD_z",activated:"_3d61NduY",fadeIn:"_2j7mQ20m"}},77750:function(e){e.exports={goodsImgContainer:"_3-30fYnD",showBanner:"JXCZqWLe",goodsImg:"_2ToC-l7x",goodsImgWithFullHeight:"_1-M093Dv",noImgContainer:"_1nvvB6Ao",bottom:"_1WC3wglT",video:"-VjBywMJ",videoPlay:"_1We0PcdL",videoLogo:"_3aIpKuk2",videoLogoImage:"_1Wj0f7y7",watermark:"_1Zc8R-bS",masker:"-h9DL-QF",loadingBall:"_2teVecST",ballBreath:"_2qnQHnQS",multiImgFadeAniEnable:"rIteJTWM",secFadeAni:"_3az2QKNM"}},1975:function(e){e.exports={wrap:"_2eqP06GS",processWrap:"_1D_pJ3U-",withCart:"QcO87i76",process:"_2LStn8em",textLine:"_1yD5ugt-",fireIcon:"_3jTqBAos",txt:"_2oB22UiM"}},10812:function(e){e.exports={arrowWrap:"_3m5tyRik",arrowLeft:"_1HVt4X0o",arrowRight:"_3cw1aXU0",arrow:"_1Y3KdQax",innerArrowLeft:"_34kzxUkZ",innerArrowRight:"TWKAixNR",hide:"_3VOIK-cv"}},32205:function(e){e.exports={mask:"_2peTemyU",container:"jtSl_rV6",titleWrap:"_2OReRLob",title:"_30FtlBPR",name:"_3wMa2H6t",arrowRight:"_1zb6crt1",close:"_3V6lgbqx",goodsPriceWrap:"_3Emg4aTr",goodsPrice:"_4LRQ6iUF",pricePrefix:"_1qjvsIh_",priceSuffix:"_1hAK2Ahh",contentWrap:"MTa8I_JY",content:"_2e4AddcH",items:"_DbypdY0",item:"O3nExTBo",goodsImgContainer:"_4Lt8vu_C",goodsImg:"_2VGuampv",viewMoreWrap:"_19aW2Iw5",viewMoreContainer:"En40YSgN",viewMoreLogo:"_1A__EsaJ",viewMoreText:"_2Eq7Vhd1"}},30377:function(e){e.exports={titleTooltipWrap:"_3A3n6Rkv",titleTooltip:"_2Z9lItqg",titleTooltipDes:"_3Taro2LS"}},37075:function(e){e.exports={tooltip:"_6GCdEcDy",hide:"_3kHVCLjE",relative:"_1dJs7iIb",tooltipItem:"_1HtUSRDB",top:"P5VAAYKj",right:"_1gEilwYr",bottom:"Zol77bWs",left:"_39kVid9X"}},48474:function(e){e.exports={commonIcon:"_3SvHFwLp"}},21599:function(e){e.exports={arrow:"_2t5D3d_i",min:"_2NJ9RTW1",arrowLeft:"_3WiBxou1",arrowRight:"_2-EFKipf",hide:"_3DhVs_JK"}}}]);
//# sourceMappingURL=http://temudebug.com/sourcemaps/assets/js/5066_d0b2be158faf83fd.js.map